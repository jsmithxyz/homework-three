<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Password Generator</title>
  </head>
  <body>
    <header>
      <h1>Password Generator</h1>
    </header>
    <h2>Generate a Password</h2>
    <textarea id="password" type ="text">Your Secure Password</textarea>
    <button onclick= "generate()" id="generate">Generate Password</button>
    <button onclick= "copyToClip()" id= "copy">
      Copy to Clipboard
    </button>

    <script>
    function copyToClip(){
      var copyResult = document.getElementById('password');
      copyResult.select();
      copyResult.setSelectionRange(0, 999999);
      document.execCommand("copy"); 
    }
    function generate() {
      //prompt user character length
      var passLength = prompt("How many characters would you like your password to be? (Between 8-128 characters!)");
          //Check to see if between character parameter
          if (passLength < 8 || passLength > 128) {
              alert("Character count not accepted! Must be between 8 and 128 Characters!");
          }
          else {}
          
      //string of special characters, took out 'space' and 'quotation mark' to avoid confusion
      var specialChar = "!#$%&'()*+,-./:;<=>?@[\]^_`{|}~";
      //string of possible numbers
      var numericChar = "0123456789";
      //string of uppercase letters
      var upperChar = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      //string of lowercase letters
      var lowerChar = "abcdefghijklmnopqrstuvwxyz";
      
      //Confirm what characters the user wants in password 
      var spec = confirm("Do you want your password to include Special Characters?");
      var numeric = confirm("Do you want your password to include Numeric Characters?");
      var upper = confirm("Do you want your password to include Uppercase Characters?");
      var lower = confirm("Do you want your password to include Lowercase Characters?");
      
      //Create function that will need 'length' and 'what characters desired' in order to create random password
      function password(passLength, holder) {
          var passwordRandom = "";

          for (var i = 0; i < passLength; i++) {
          passwordRandom += holder.charAt(Math.floor(Math.random() * holder.length)); 
      }
      return passwordRandom;
      }
    
    //User choice possibilities
    if((spec === false) && (numeric === false) && (lower === false) && (upper === false)) {
      alert("You must choose at least one type of character to build a password!")
    }
    if(spec) {
        var holder = holder += specialChar;
    }
    if(numeric) {
        var holder = holder += numericChar;
    }
    if(lower) {
        var holder = holder += lowerChar;
    }
    if(upper) {
        var holder = holder += upperChar;
    }
    document.getElementById('password').innerHTML= password(passLength, holder);
    }
  
      </script>
  </body>
</html>
